<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="Css/Cadastro.css">
    <link rel="stylesheet" href="Css/Avaliacao.css">
</head>
<body>
<form>
    <h1>Adicionar Produto</h1>

    <hr/>

    <div>
        <label for="name">Item</label>
        <input type="text" name="name" id="name" placeholder="Produto" required minlength="2" maxlength="99"
               pattern="^[a-zA-Z][a-zA-Z\s]*$" title="Name should not contain any numbers or special characters."/>
    </div>

    <div>
        <label for="quantity">Quantidade</label>
        <select name="quantity" id="quantity" required>
            <option disabled selected></option>
        </select>
    </div>

    <div>
        <h4>
            Avaliação:
        </h4>
        <fieldset class="rating">
            <input type="radio" id="star5" name="rating" value="5"/><label class="full" for="star5"
                                                                           title="Awesome - 5 stars"></label>
            <input type="radio" id="star4half" name="rating" value="4 and a half"/><label class="half" for="star4half"
                                                                                          title="Pretty good - 4.5 stars"></label>
            <input type="radio" id="star4" name="rating" value="4"/><label class="full" for="star4"
                                                                           title="Pretty good - 4 stars"></label>
            <input type="radio" id="star3half" name="rating" value="3 and a half"/><label class="half" for="star3half"
                                                                                          title="Meh - 3.5 stars"></label>
            <input type="radio" id="star3" name="rating" value="3"/><label class="full" for="star3"
                                                                           title="Meh - 3 stars"></label>
            <input type="radio" id="star2half" name="rating" value="2 and a half"/><label class="half" for="star2half"
                                                                                          title="Kinda bad - 2.5 stars"></label>
            <input type="radio" id="star2" name="rating" value="2"/><label class="full" for="star2"
                                                                           title="Kinda bad - 2 stars"></label>
            <input type="radio" id="star1half" name="rating" value="1 and a half"/><label class="half" for="star1half"
                                                                                          title="Meh - 1.5 stars"></label>
            <input type="radio" id="star1" name="rating" value="1"/><label class="full" for="star1"
                                                                           title="Sucks big time - 1 star"></label>
            <input type="radio" id="starhalf" name="rating" value="half"/><label class="half" for="starhalf"
                                                                                 title="Sucks big time - 0.5 stars"></label>
        </fieldset>
    </div>

    <div id="descricao">
        <label for="description">Descrição</label>
        <textarea name="description" id="description" required maxlength="2000"
                  oninput="updateCharacterCount()"></textarea>
        <div id="characterCount"></div>
    </div>

    <div>
        <label for="price">Preço</label>
        <span>R$</span>
        <input type="text" name="price" id="price" inputmode="decimal" min="0" oninput="formatPrice(this)"/>
    </div>


    <div>
        <label for="photo">Upload de imagem</label>
        <input type="file" name="photo" id="photo" accept="image/png, image/jpeg" onchange="previewImage(event)"/>
        <img id="preview" src="#" alt="Prévia da imagem" style="max-width: 300px; max-height: 200px; display: none;"/>
    </div>

    <button id="submit" type="submit">Enviar</button>

    <script>
        function previewImage(event) {
          var input = event.target;
          var preview = document.getElementById("preview");

          if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
              preview.src = e.target.result;
              preview.style.display = "block";
            };

            reader.readAsDataURL(input.files[0]);
          } else {
            preview.src = "#";
            preview.style.display = "none";
          }
        }
    </script>


    <script>
        var select = document.getElementById("quantity");

        for (var i = 1; i <= 50; i++) {
          var option = document.createElement("option");
          option.value = i;
          option.text = i;
          select.appendChild(option);
        }

        function formatPrice(input) {
          var value = input.value;
          value = value.replace(/\D/g, '');
          value = value.replace(/^0+/, '');

          if (value.length > 2) {
            var cents = value.slice(-2);
            var dollars = value.slice(0, -2);
            value = dollars + ',' + cents;
          } else if (value.length === 2) {
            value = '0,' + value;
          } else if (value.length === 1) {
            value = '0,0' + value;
          }

          input.value = value;
        }
    </script>
    <script src="Javascript/EstrelaSalvarBanco.js"></script>
</form>
</body>
</html>